{"version":3,"sources":["uni-app:///main.js","webpack:////Users/tiankai/myFile/code/babyName/frontend/pages/history/index.vue?fe4d","webpack:////Users/tiankai/myFile/code/babyName/frontend/pages/history/index.vue?fbc0","webpack:////Users/tiankai/myFile/code/babyName/frontend/pages/history/index.vue?32d0","webpack:////Users/tiankai/myFile/code/babyName/frontend/pages/history/index.vue?3ebf","uni-app:///pages/history/index.vue","webpack:////Users/tiankai/myFile/code/babyName/frontend/pages/history/index.vue?eee7","webpack:////Users/tiankai/myFile/code/babyName/frontend/pages/history/index.vue?039d"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","loadHistory","loading","nameApi","result","historyList","loadMockHistory","console","id","babyInfo","surname","gender","birthDate","birthTime","names","fullName","score","meaning","createTime","uni","url","title","content","showCancel","success","res","index","icon","deleteRecord"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,cAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAA8H;AAC9H;AACoE;AACL;AAC0B;;;AAGzF;AACmN;AACnN,gBAAgB,iNAAU;AAC1B,EAAE,sFAAM;AACR,EAAE,4FAAM;AACR,EAAE,qGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,gGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AC5BA;AAAA;AAAA;AAAA;AAA61B,CAAgB,8yBAAG,EAAC,C;;;;;;;;;;;;;;;;;ACsDj3B;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AACA;AACA;AAEA;EACAC;AACA;AAEA;EAAA;IAAA;IAAA;MAAA;QAAA;UAAA;YACAC;YAAA;YAAA;YAAA,OAEAC;UAAA;YAAAC;YACA;cACAC;YACA;cACA;cACAC;YACA;YAAA;YAAA;UAAA;YAAA;YAAA;YAEAC;YACA;YACAD;UAAA;YAAA;YAEAJ;YAAA;UAAA;UAAA;YAAA;QAAA;MAAA;IAAA;EAAA,CAEA;EAAA,gBAjBAD;IAAA;EAAA;AAAA,GAiBA;AAEA;EACA;EACAI,qBACA;IACAG;IACAC;MACAC;MACAC;MACAC;MACAC;IACA;IACAC,QACA;MAAAC;MAAAC;MAAAC;IAAA,GACA;MAAAF;MAAAC;MAAAC;IAAA,GACA;MAAAF;MAAAC;MAAAC;IAAA,EACA;IACAC;EACA,GACA;IACAV;IACAC;MACAC;MACAC;MACAC;MACAC;IACA;IACAC,QACA;MAAAC;MAAAC;MAAAC;IAAA,GACA;MAAAF;MAAAC;MAAAC;IAAA,GACA;MAAAF;MAAAC;MAAAC;IAAA,EACA;IACAC;EACA,EACA;AACA;AAEA;EACAC;IACAC;EACA;AACA;AAEA;EACA;EACA;EACAD;IACAE;IACAC;IACAC;EACA;AACA;AAEA;EACA;EACAJ;IACAC;MAAAN;IAAA;EACA;AACA;AAEA;EAAA;IAAA;MAAA;QAAA;UAAA;YACAK;cACAE;cACAC;cACAE;gBAAA;kBAAA;kBAAA;oBAAA;sBAAA;wBAAA;0BAAA,KACAC;4BAAA;4BAAA;0BAAA;0BAAA;0BAAA;0BAAA,OAEAtB;wBAAA;0BACA;0BACAuB;4BAAA;0BAAA;0BACA;4BACArB;0BACA;0BACAc;4BACAE;4BACAM;0BACA;0BAAA;0BAAA;wBAAA;0BAAA;0BAAA;0BAEApB;0BACAY;4BACAE;4BACAM;0BACA;wBAAA;wBAAA;0BAAA;sBAAA;oBAAA;kBAAA;gBAAA,CAGA;gBAAA;kBAAA;gBAAA;gBAAA;cAAA;YACA;UAAA;UAAA;YAAA;QAAA;MAAA;IAAA;EAAA,CACA;EAAA,gBA3BAC;IAAA;EAAA;AAAA,GA2BA;;AAEA,4B;;;;;;;;;;;;;AC1KA;AAAA;AAAA;AAAA;AAA6tC,CAAgB,wnCAAG,EAAC,C;;;;;;;;;;;ACAjvC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/history/index.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/history/index.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=6c15e724&scoped=true&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&setup=true&lang=js&\"\nexport * from \"./index.vue?vue&type=script&setup=true&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=6c15e724&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6c15e724\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/history/index.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=template&id=6c15e724&scoped=true&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var g0 = _vm.historyList.length\n  var l1 = !(g0 === 0)\n    ? _vm.__map(_vm.historyList, function (record, index) {\n        var $orig = _vm.__get_orig(record)\n        var l0 = record.names.slice(0, 3)\n        return {\n          $orig: $orig,\n          l0: l0,\n        }\n      })\n    : null\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        g0: g0,\n        l1: l1,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&setup=true&lang=js&\"; export default mod; export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&setup=true&lang=js&\"","<template>\n  <view class=\"container\">\n    <view class=\"history-header\">\n      <text class=\"title\">ÂéÜÂè≤ËÆ∞ÂΩï</text>\n      <text class=\"subtitle\">Êü•Áúã‰πãÂâçÁöÑËµ∑ÂêçÁªìÊûú</text>\n    </view>\n    \n    <view v-if=\"historyList.length === 0\" class=\"empty-state\">\n      <text class=\"empty-icon\">üìù</text>\n      <text class=\"empty-text\">ÊöÇÊó†ÂéÜÂè≤ËÆ∞ÂΩï</text>\n      <text class=\"empty-desc\">ÂéªËµ∑‰∏™Â•ΩÂêçÂ≠óÂêß</text>\n      <button class=\"btn-primary\" @click=\"goToNaming\">ÂºÄÂßãËµ∑Âêç</button>\n    </view>\n    \n    <view v-else class=\"history-list\">\n      <view \n        v-for=\"(record, index) in historyList\" \n        :key=\"index\"\n        class=\"history-card\"\n      >\n        <view class=\"record-header\">\n          <view class=\"baby-info\">\n            <text class=\"baby-name\">{{ record.babyInfo.surname }}ÂÆùÂÆù</text>\n            <text class=\"baby-gender\">{{ record.babyInfo.gender === 'male' ? 'üë¶' : 'üëß' }}</text>\n          </view>\n          <view class=\"record-date\">{{ record.createTime }}</view>\n        </view>\n        \n        <view class=\"record-names\">\n          <view \n            v-for=\"(name, nameIndex) in record.names.slice(0, 3)\" \n            :key=\"nameIndex\"\n            class=\"name-item\"\n            @click=\"viewNameDetail(record, nameIndex)\"\n          >\n            <text class=\"name-text\">{{ name.fullName }}</text>\n            <text class=\"name-score\">{{ name.score }}ÂàÜ</text>\n          </view>\n        </view>\n        \n        <view class=\"record-actions\">\n          <view class=\"action-btn\" @click=\"viewAllNames(record)\">\n            Êü•ÁúãÂÖ®ÈÉ®\n          </view>\n          <view class=\"action-btn delete\" @click=\"deleteRecord(record.id)\">\n            Âà†Èô§\n          </view>\n        </view>\n      </view>\n    </view>\n  </view>\n</template>\n\n<script setup>\nimport { ref, onMounted } from 'vue'\nimport { nameApi } from '../../api/user.js'\n    const historyList = ref([])\n    const loading = ref(false)\n    \n    onMounted(() => {\n      loadHistory()\n    })\n    \n    const loadHistory = async () => {\n      loading.value = true\n      try {\n        const result = await nameApi.getHistory()\n        if (result.success) {\n          historyList.value = result.data || []\n        } else {\n          // Âä†ËΩΩmockÊï∞ÊçÆÁî®‰∫éÊºîÁ§∫\n          loadMockHistory()\n        }\n      } catch (error) {\n        console.error('Âä†ËΩΩÂéÜÂè≤ËÆ∞ÂΩïÂ§±Ë¥•:', error)\n        // Âä†ËΩΩmockÊï∞ÊçÆ\n        loadMockHistory()\n      } finally {\n        loading.value = false\n      }\n    }\n    \n    const loadMockHistory = () => {\n      // MockÂéÜÂè≤Êï∞ÊçÆ\n      historyList.value = [\n        {\n          id: 1,\n          babyInfo: {\n            surname: 'Âº†',\n            gender: 'female',\n            birthDate: '2024-01-15',\n            birthTime: '10:30'\n          },\n          names: [\n            { fullName: 'Âº†Èõ®Ê∂µ', score: 95, meaning: 'Èõ®Ê∂¶‰∏áÁâ©ÔºåÊ∂µÂÖªÊ∑±Âéö' },\n            { fullName: 'Âº†Ê¢ìËê±', score: 92, meaning: 'Ê¢ìÊ†ëÊàêÊùêÔºåËê±ËçâÂøòÂøß' },\n            { fullName: 'Âº†ËØóÊ∂µ', score: 90, meaning: 'ËØó‰π¶‰º†ÂÆ∂ÔºåÊ∂µÂÖªÊÄßÊÉÖ' }\n          ],\n          createTime: '2024-01-20 14:30'\n        },\n        {\n          id: 2,\n          babyInfo: {\n            surname: 'Êùé',\n            gender: 'male',\n            birthDate: '2024-02-10',\n            birthTime: '08:15'\n          },\n          names: [\n            { fullName: 'ÊùéÊµ©ÂÆá', score: 94, meaning: 'Êµ©ÁÄöÂÆáÂÆôÔºåÂøóÂêëËøúÂ§ß' },\n            { fullName: 'ÊùéÂøóÂº∫', score: 91, meaning: 'ÂøóÂêëÂùöÂÆöÔºåÊÑèÂøóÂùöÂº∫' },\n            { fullName: 'ÊùéÊòéËΩ©', score: 89, meaning: 'ÊòéÊô∫ËÅ™ÊÖßÔºåÊ∞îÂÆáËΩ©ÊòÇ' }\n          ],\n          createTime: '2024-02-15 16:45'\n        }\n      ]\n    }\n    \n    const goToNaming = () => {\n      uni.switchTab({\n        url: '/pages/baby-info/index'\n      })\n    }\n    \n    const viewNameDetail = (record, nameIndex) => {\n      // Êü•ÁúãÂçï‰∏™ÂêçÂ≠óËØ¶ÊÉÖ\n      const name = record.names[nameIndex]\n      uni.showModal({\n        title: name.fullName,\n        content: name.meaning,\n        showCancel: false\n      })\n    }\n    \n    const viewAllNames = (record) => {\n      // Êü•ÁúãËØ•ËÆ∞ÂΩïÁöÑÊâÄÊúâÂêçÂ≠ó\n      uni.navigateTo({\n        url: `/pages/name-result/index?names=${encodeURIComponent(JSON.stringify({ names: record.names }))}`\n      })\n    }\n    \n    const deleteRecord = async (id) => {\n      uni.showModal({\n        title: 'Á°ÆËÆ§Âà†Èô§',\n        content: 'Á°ÆÂÆöË¶ÅÂà†Èô§ËøôÊù°ËÆ∞ÂΩïÂêóÔºü',\n        success: async (res) => {\n          if (res.confirm) {\n            try {\n              await nameApi.deleteHistory(id)\n              // ‰ªéÂàóË°®‰∏≠ÁßªÈô§\n              const index = historyList.value.findIndex(item => item.id === id)\n              if (index > -1) {\n                historyList.value.splice(index, 1)\n              }\n              uni.showToast({\n                title: 'Âà†Èô§ÊàêÂäü',\n                icon: 'success'\n              })\n            } catch (error) {\n              console.error('Âà†Èô§Â§±Ë¥•:', error)\n              uni.showToast({\n                title: 'Âà†Èô§Â§±Ë¥•',\n                icon: 'error'\n              })\n            }\n          }\n        }\n      })\n    }\n    \n// ‰∏çÈúÄË¶Å returnÔºåsetup ËØ≠Ê≥ïÁ≥ñ‰ºöËá™Âä®Êö¥Èú≤\n</script>\n\n<style scoped>\n.history-header {\n  text-align: center;\n  padding: 40rpx 20rpx;\n}\n\n.title {\n  font-size: 40rpx;\n  font-weight: bold;\n  color: #333;\n  display: block;\n  margin-bottom: 10rpx;\n}\n\n.subtitle {\n  font-size: 28rpx;\n  color: #666;\n}\n\n.empty-state {\n  text-align: center;\n  padding: 100rpx 40rpx;\n}\n\n.empty-icon {\n  font-size: 80rpx;\n  display: block;\n  margin-bottom: 30rpx;\n}\n\n.empty-text {\n  font-size: 32rpx;\n  color: #333;\n  display: block;\n  margin-bottom: 10rpx;\n}\n\n.empty-desc {\n  font-size: 28rpx;\n  color: #666;\n  display: block;\n  margin-bottom: 40rpx;\n}\n\n.history-list {\n  padding: 0 20rpx;\n}\n\n.history-card {\n  background: #fff;\n  border-radius: 12rpx;\n  padding: 30rpx;\n  margin-bottom: 20rpx;\n  box-shadow: 0 2rpx 8rpx rgba(0,0,0,0.1);\n}\n\n.record-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 20rpx;\n}\n\n.baby-info {\n  display: flex;\n  align-items: center;\n  gap: 10rpx;\n}\n\n.baby-name {\n  font-size: 32rpx;\n  font-weight: bold;\n  color: #333;\n}\n\n.baby-gender {\n  font-size: 28rpx;\n}\n\n.record-date {\n  font-size: 24rpx;\n  color: #999;\n}\n\n.record-names {\n  margin-bottom: 20rpx;\n}\n\n.name-item {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 15rpx 0;\n  border-bottom: 1rpx solid #f0f0f0;\n}\n\n.name-item:last-child {\n  border-bottom: none;\n}\n\n.name-text {\n  font-size: 28rpx;\n  color: #007aff;\n}\n\n.name-score {\n  font-size: 24rpx;\n  color: #ff6b35;\n}\n\n.record-actions {\n  display: flex;\n  justify-content: flex-end;\n  gap: 20rpx;\n}\n\n.action-btn {\n  font-size: 26rpx;\n  color: #007aff;\n  padding: 10rpx 20rpx;\n}\n\n.action-btn.delete {\n  color: #ff3b30;\n}\n\n.action-btn:active {\n  opacity: 0.7;\n}\n</style>\n","import mod from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&id=6c15e724&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&id=6c15e724&scoped=true&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1758509300657\n      var cssReload = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"/\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}